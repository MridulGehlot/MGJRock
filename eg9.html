<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>Something</title>
<style>
.modalMask
{
background-color: gray;
width:100%;
height:100%;
top:0;
left:0;
border:1px solid red;
position:fixed;
opacity:80%;
}
.modal
{
background-color:blue;
width:500px;
min-width:500px;
height:300px;
min-height:300px;
position:fixed;
top:0;
left:0;
bottom:0;
right:0;
margin:auto;
border:2px solid white;
overflow:auto;
}
.crossButton
{
float:right;
padding: 5px 10px;
cursor:pointer;
}
</style>
<script>
//following is a class
function Modal(cid)
{
//some property that can be used to decide if the modal should be closed if the user clicks
//outside the modal area
var self=this;
this.onOpen=null;
this.onClose=null;
var contentReference=document.getElementById(cid);
var contentParentReference=contentReference.parentElement;
var contentIndex=0;
while(contentIndex<contentParentReference.children.length)
{
if(contentReference==contentParentReference.children[contentIndex]) break;
contentIndex++;
}
var modalMask=document.createElement("div");
var modal=document.createElement("div");
modalMask.classList.add('modalMask');
modal.classList.add('modal');
var crossButtonSpan=document.createElement("span");
crossButtonSpan.classList.add("crossButton");
var cross=document.createTextNode("X");
crossButtonSpan.appendChild(cross);
contentReference.remove();
modal.appendChild(crossButtonSpan);
modal.appendChild(contentReference);

this.show=function()
{
document.body.appendChild(modalMask);
document.body.appendChild(modal);
if(contentReference.style.display=="none") contentReference.style.display="block";
if(this.onOpen) this.onOpen();
};

crossButtonSpan.onclick=function()
{
contentReference.remove();
modal.remove();
modalMask.remove();
if(contentParentReference.children.length==contentIndex) contentParentReference.appendChild(contentReference);
else
{
contentParentReference.insertBefore(contentReference,contentParentReference.children[contentIndex]);
}
if(contentReference.style.display=="block") contentReference.style.display="none";
if(self.onClose) self.onClose();
};
}

function createModal1()
{
var modal=new Modal("ab");
//modal.closeOnOutsideClick(true);
modal.onOpen=function()
{
alert("Modal is Opened");
}
modal.onClose=function()
{
alert("Closing The Modal");
}
modal.show();
}
function createModal2()
{
var modal=new Modal("pq");
modal.show();
}
window.addEventListener("load",function(){
var allTags=document.getElementsByTagName("*");
for(var i=0;i<allTags.length;i++)
{
if(allTags[i].hasAttribute("forModal"))
{
var ee=allTags[i].getAttribute("forModal");
if(ee=="true") allTags[i].style.display="none";
}
}
});
</script>
</head>
<body>
<button type='button' onclick='createModal1()'>Show Modal1</button>
<button type='button' onclick='createModal2()'>Show Modal2</button>
<div id='ab'>Here are the Contents of AB div</div>
<div id='pq' forModal="true">Hello World!!!</div>
</body>
</html>
