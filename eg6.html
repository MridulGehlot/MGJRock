<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>Accordian</title>
<script>
let panels=[];
let expandedIndex=-1;
function accordianHeadingClicked(x)
{
if(expandedIndex!=-1) panels[expandedIndex].style.display='none';
panels[x+1].style.display=panels[x+1].oldDisplay;
expandedIndex=x+1;
}
function doit()
{
let accord=document.getElementById('mymy');
let childrens=accord.childNodes;
let x;
for(x=0;x<childrens.length;x++)
{
if(childrens[x].nodeName=='H3') panels[panels.length]=childrens[x];
if(childrens[x].nodeName=='DIV') panels[panels.length]=childrens[x];
}
if(panels.length%2!=0) throw 'Heading and Division Malformed to Creating Accordian';
for(x=0;x<panels.length;x+=2)
{
if(panels[x].nodeName!='H3') throw 'Heading and Division Malformed to Creating Accordian';
if(panels[x+1].nodeName!='DIV') throw 'Heading and Division Malformed to Creating Accordian';
}
function createClickHandler(idx)
{
return function()
{
accordianHeadingClicked(idx);
}
}
for(x=0;x<panels.length;x+=2)
{
panels[x].onclick=createClickHandler(x);
panels[x].style.cursor='pointer';
panels[x+1].oldDisplay=panels[x+1].style.display;
panels[x+1].style.display='none';
}

}
window.addEventListener('load',doit);
</script>
</head>
<body>
<div id='mymy'>
<h3>Heading 1</h3>
<div>
Content1 Content1 Content1 <br>
Content1 Content1 Content1 <br>
Content1 Content1 Content1<br>
Content1 Content1 Content1<br>
</div>
<h3>Heading 2</h3>
<div>
Content2 Content2 Content2<br>
Content2 Content2 Content2<br>
Content2 Content2 Content2<br>
Content2 Content2 Content2<br>
</div>
<h3>Heading 3</h3>
<div>
Content3 Content3 Content3<br>
Content3 Content3 Content3<br>
Content3 Content3 Content3<br>
Content3 Content3 Content3<br>
</div>
</div>
</body>
</html>